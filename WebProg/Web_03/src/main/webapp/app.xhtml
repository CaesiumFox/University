<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:pass="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
    <head>
        <title>Авдеев Степан P3214</title>
        <link rel="icon" href="./favicon.png" />
        <link rel="stylesheet" href="./allstyles.css" />
        <script type="text/javascript" src="./validation.js"></script>
    </head>
    <body onload="onbodyload();">
        <div class="header">
            <p>
            Авдеев Степан Сергеевич <span id="group_label">(P3214)</span>
            </p>
            <p>
            <span id="variant_label">Вариант: 7446</span>
            </p>
        </div>
        <div class="main">
            <div class="top_panel">
                <h:form onsubmit="return validateFinal()" id="the_form" prependId="false">
                    <div class="form_panel">
                        <div class="form_label with_tool_tip"><span>X</span></div>
                        <div class="x_panel" id="x_checkbox_panel">
                            <h:selectOneRadio value="#{areaCheck.x}" id="x_select">
                                <f:selectItem itemValue="-4" itemLabel="&minus;4"/>
                                <f:selectItem itemValue="-3" itemLabel="&minus;3"/>
                                <f:selectItem itemValue="-2" itemLabel="&minus;2"/>
                                <f:selectItem itemValue="-1" itemLabel="&minus;1"/>
                                <f:selectItem itemValue="0" itemLabel="0"/>
                                <f:selectItem itemValue="1" itemLabel="1"/>
                                <f:selectItem itemValue="2" itemLabel="2"/>
                                <f:selectItem itemValue="3" itemLabel="3"/>
                                <f:selectItem itemValue="4" itemLabel="4"/>
                            </h:selectOneRadio>
                        </div>
                        <div class="form_label"><span>Y</span></div>
                        <div class="text_field" id="text_field_y">
                            <h:inputText id="y_text" value="#{areaCheck.y}" maxlength="16"
                                         pass:oninput="validateLiveY();" onfocus="validateLiveY();" onchange="correctY();">
                                <f:validateDoubleRange minimum="-5" maximim="3"/>
                            </h:inputText>
                        </div>
                        <div class="form_label"><span>R</span></div>
                        <div class="text_field" id="text_field_r">
                            <h:inputText id="r_text" value="#{areaCheck.r}" maxlength="16"
                                         pass:oninput="validateLiveR();" onfocus="validateLiveR();" onchange="correctR();">
                                <f:validateDoubleRange minimum="2" maximum="5" />
                            </h:inputText>
                        </div>
                        <div class="submit_button">
                            <h:commandButton value="Отправить" type="submit" action="#{areaCheck.checkHit()}" />
                        </div>
                    </div>
                </h:form>
                <div id="graph">
                    <svg xmlns="http://www.w3.org/2000/svg" id="the_image" width="100%" height="100%" viewBox="0 0 100 100">
                        <defs>
                            <style>
                                #axes path {
                                    stroke: var(--graph-axes-color);
                                    stroke-width: var(--graph-axes-width);
                                    fill:none;
                                }
                                #axes text {
                                    font-family: sans-serif;
                                    font-size: 3px;
                                    fill: var(--text-color);
                                }
                                #axes text.x_axis {
                                    text-anchor: middle;
                                }
                                #axes text.y_axis {
                                    text-anchor: end;
                                }
                                #the_area {
                                    fill: var(--graph-area-color);
                                    stroke: var(--graph-area-border-color);
                                    stroke-width: var(--graph-area-border-width);
                                }
                            </style>
                        </defs>

                        <path id="the_area" d="M 50 10 h 20 v 40 a 20 20 0 0 1 -20 20 v 20 l -40 -40 h 40 z" />

                        <g id="axes">
                            <path class="axis" d="M 50 95 V 5 m -1 2 l 1 -2 l 1 2" />
                            <path class="axis" d="M 5 50 H 95 m -2 -1 l 2 1 l -2 1" />

                            <path class="axis" d="M 50 10 m -1 0 l 2 0" />
                            <path class="axis" d="M 50 30 m -1 0 l 2 0" />
                            <path class="axis" d="M 50 70 m -1 0 l 2 0" />
                            <path class="axis" d="M 50 90 m -1 0 l 2 0" />

                            <path class="axis" d="M 10 50 m 0 -1 l 0 2" />
                            <path class="axis" d="M 30 50 m 0 -1 l 0 2" />
                            <path class="axis" d="M 70 50 m 0 -1 l 0 2" />
                            <path class="axis" d="M 90 50 m 0 -1 l 0 2" />

                            <text class="x_axis" x="90" y="50" dy="4">R</text>
                            <text class="x_axis" x="70" y="50" dy="4">R/2</text>
                            <text class="x_axis" x="30" y="50" dy="4">&minus;R/2</text>
                            <text class="x_axis" x="10" y="50" dy="4">&minus;R</text>

                            <text class="y_axis" x="50" y="10" dx="-2" dy="1">R</text>
                            <text class="y_axis" x="50" y="30" dx="-2" dy="1">R/2</text>
                            <text class="y_axis" x="50" y="70" dx="-2" dy="1">&minus;R/2</text>
                            <text class="y_axis" x="50" y="90" dx="-2" dy="1">&minus;R</text>

                            <text class="y_axis" x="50" y="50" dx="-2" dy="4">O</text>
                        </g>
                        <g id="points">
                            <!-- -->
                        </g>
                    </svg>
                </div>
            </div>

            <div class="table_panel">
                <table id="result_table">
                    <thead>
                        <tr>
                            <td class="inverse_selected">X</td>
                            <td class="inverse_selected">Y</td>
                            <td class="inverse_selected">R</td>
                            <td class="inverse_selected">A</td>
                            <td class="inverse_selected">T</td>
                            <td class="inverse_selected">&Delta;T, ns</td>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>${areaCheck.x}</td>
                            <td>${areaCheck.y}</td>
                            <td>${areaCheck.r}</td>
                            <td>${areaCheck.hitMessage}</td>
                            <td>${areaCheck.timeMessage}</td>
                            <td>${areaCheck.durationMessage}</td>
                        </tr>
                    </tbody>
                </table>
                <p>
                    X, Y, R&nbsp;&mdash; выбранные числа;<br/>
                    A&nbsp;&mdash; попадание;<br/>
                    T&nbsp;&mdash; текущее время;<br/>
                    &Delta;T&nbsp;&mdash; время работы сервера от начала работы до получения этого результата.
                </p>
            </div>
        </div>
    </body>
</html>
